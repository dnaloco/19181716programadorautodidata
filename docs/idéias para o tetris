idéias para o tetris

Uma ideia para a projeção da peca na tela...


		/*
		p1 = 	1000 	0000
				1000	1111
				1000 	0000
				1000 	0000

		p2 = 	1000  	0000 	0100 	0000
				1100 	1110 	1100 	0100
				1000 	0100 	0100 	1110
				0000 	0000 	0000 	0000

		p3 = 	1100 	0000  	0100 	0000
				1000    1110  	0100 	1000
				1000	0010 	1100 	1110
				0000 	0000 	0000 	0000

		p4 = 	1100	0000 	1000 	0000
				0100	0010    1000 	1110
				0100 	1110 	1100 	1000
				0000    0000 	0000 	0000

		p5 =	1100	
				1100
				0000
				0000

		p6 = 	1000	0110
				1100 	1100
				0100 	0000
				0000 	0000

		p7 =	0100	1100	
				1100 	0110
				1000 	0000
				0000 	0000

		*/


		/*
	
		0000100000	0000000000 	0000000000 	0000000000
		0000100000	0000000000 	0000000000 	0000000000
		0000100000	0001000000 	0000000000 	0000000000
		0000100000	0001010000 	0000010000 	0000111100
		0000000000	0001010000	0000010000 	0000000000
		0000000000	0001010000	0111110000 	0000000000
		0000000000	0000010000 	0000010000 	0000000000

		0000100000
		0000110000
		0000100000
		0000000000
		0000000000
		0000000000
		0000000000
		
		*/

	var tela = ['000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000010000000',
				'000000010000000',
				'000000000000000',
				'000001000000000',
				'000001000000000',
				'000001000000000',
				'000001000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000',
				'000000000000000']; 

	var peca = ['0100',
				'0100',
				'0110',
				'0000'];
	peca.x = 6;
	peca.y = 2;

	function checkMatriz (tela, peca) {
		// ...20 seria a quantidade de linhas e 15 a quantidade de colulas
		// ...isto aqui é apenas um rabisco...
		var startRow = peca.y ,
			endRow = peca.y + 4 > 20 ? 20 : peca.y + 4,
			startCol = peca.x < 0 ? 0 : peca.x,
			endCol = peca.x + 4 > 15 ? 15 : peca.x + 4,
			row, col, matriz = [], i = 0 , j;

		for (row = startRow; row < endRow; row += 1, i += 1) {
			matriz[i] = [];
			j = 0;
			for (col = startCol ; col < endCol; col += 1, j += 1) {
				matriz[i][j] = tela[row][col];
			}
		}

		console.log(matriz);
		console.log(peca);

		for (i = 0; i < 4; i += 1) {
			for (j = 0; j < 4; j += 1) {
				console.log(peca[i][j]);
				if(matriz[i][j] == 1 && 1 == peca[i][j]) {
					console.log('bateu em ' + i);
					drawTela(tela, peca, row);
					break;
				}
			}
		}

		drawTela(tela, peca);
	}

	drawTela(tela, peca);