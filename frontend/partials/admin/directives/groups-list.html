<div>
	<div class="row">
		<div class="large-8 columns">
			
			<table>
				<caption><h2>Grupos</h2></caption>
				<thead>
					<tr>
						<th>Nome</th>
						<th>Permissões</th>
						<th>Excluir</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="group in groups">
						<td>[[group.name]]</td>
						<td><a ng-click="viewPermissions(group)">view permissions</a></td>
						<td><a ng-click="deleteGroup(group.id)">X</a></td>
					</tr>
				</tbody>
			</table>
			<div class="row">
				<h3>Adicionar Grupo</h3>
				<form>
					<label for="">Grupo:</label>
					<input type="text" ng-model="new.group" required>
					<button ng-click="newGroup()">Adicionar</button>
				</form>
			</div>
		</div>
		<div class="large-4 columns">
			<table>
				<caption>
					<h2>Permissões</h2>
					<thead>
						<tr>
							<th>Permissão</th>
							<th>Excluir</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="p in permissions">
							<td>[[p.permission]]</td>
							<td><a ng-click="deletePermission(p.id)">X</a></td>
						</tr>
					</tbody>
				</caption>
			</table>
			<div class="row">
				<h3>Adicionar Permissão</h3>
				<form>
					<label for="">Permissão:</label>
					<input type="text" ng-model="new.permission" required>
					<button ng-click="newPermission()">Adicionar</button>
				</form>
			</div>
		</div>
		
	</div>

	<div id="viewPermissions" class="reveal-modal small" data-reveal>
		<h3>
			<ng-pluralize count="qtyPerms"
	              when="{'0': 'Ainda não há permissões para o grupo \'{{groupName}}\'.',
	              		 'one': 'O grupo \'{{groupName}}\' possui a seguinte permissão:',
	                     'other': 'O grupo \'{{groupName}}\' possui as seguintes permissões:'}">
			</ng-pluralize>

		</h3>
		<ul>
			<li ng-repeat="p in perms">[[p.permission]]</li>
		</ul>
		<a ng-click="addPermissions(groupId)">adicionar permissões</a>
		<a class="close-reveal-modal">&#215;</a>
	</div>

	<div id="addPermissions" class="reveal-modal medium" data-reveal>
		[[groupName]]
		<div ng-repeat="p in permissions">
			<input type="checkbox" ng-model="p.checked">[[p.permission]]<br/>
		</div>
		<button ng-click="addToGroup()">Adicionar Permissões</button>
	</div>
</div>